<!-- todo/templates/todo/task_form.html -->

{% extends 'base.html' %} {% block title %} {% if form.instance.pk %} Edit Task
{% else %} Add New Task {% endif %} {% endblock %} {% block content %}
<h2>{% if form.instance.pk %} Edit Task {% else %} Add New Task {% endif %}</h2>
<form method="post">
  {% csrf_token %}

  <!-- Display Form Errors -->
  {% if form.errors %}
  <div class="alert alert-danger">
    <strong>Please correct the errors below:</strong>
    <ul>
      {% for field in form %} {% for error in field.errors %}
      <li>{{ field.label }}: {{ error }}</li>
      {% endfor %} {% endfor %} {% for error in form.non_field_errors %}
      <li>{{ error }}</li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}

  <!-- Render Form Fields -->
  {{ form.as_p }}

  <!-- Submit and Cancel Buttons -->
  <button type="submit" class="btn btn-success">Save</button>
  <a href="{% url 'task-list' %}" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}
